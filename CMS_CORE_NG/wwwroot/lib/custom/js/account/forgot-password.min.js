function validateControls(n){var t=!0,i,r;return n.Email===""&&(t=!1),n.Password===""&&(t=!1),n.Code===""&&(t=!1),n.__RequestVerificationToken===""&&(t=!1),n.Email!==""&&(i=/^[_a-z0-9-]+(.[a-z0-9-]+)@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$/,i.test(n.Email)||($("#emailValidation").text("אנא הכנס כתובת מייל תקינה"),t=!1)),n.Password!==""&&(r=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{6,}$/,r.test(n.Password)||$("#passValidation").text("אנא הכנס סיסמה תקינה"),n.Password!==n.ConfirmPassword&&(t=!1)),t}function getCookie(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return""}var ResetPasswordData={Email:"",Password:"",ConfirmPassword:"",Code:""};$(function(){$("#submit").click(function(n){var t,i;n.preventDefault();$("#resetPasswordForm").valid()&&(t=$("form").serializeArray().reduce(function(n,t){return n[t.name]=t.value,n},{}),validateControls(t)?(ResetPasswordData.Email=t.Email,ResetPasswordData.Password=t.Password,ResetPasswordData.ConfirmPassword=t.ConfirmPassword,ResetPasswordData.Code=t.Code,i=$("form").attr("action"),$.ajax({type:"POST",url:i,contentType:"application/json","async":!0,headers:{"X-XSRF-TOKEN":getCookie("XSRF-TOKEN"),RequestVerificationToken:$("[name='__RequestVerificationToken']").val()},data:JSON.stringify(ResetPasswordData),success:function(){Swal.fire({title:"PasswordReset",html:"<div class='card'><div class='box'><div><h1><b>Windo<\/b><\/h1><\/div><h2><span class='bold'> הסיסמה שלך עודכנה<br><\/span>את יכולה להיכנס איתה לאתר <br> כבר ברגע זה<\/h2><a class='btn btn-primary btn-block' href='/home'>יופי, זה בדיוק מה שאני רוצה לעשות<\/a><\/div><\/div>",background:"none",showConfirmButton:!1})},error:function(){Swal.fire({type:"error",title:"...אופס",text:"לא ניתן להשלים את הבקשה. בבקשה נסה שוב מאוחר יותר."})}})):Swal.fire({type:"error",title:"...אופס",text:"בבקשה תקן את השגיאה ונסה מאוחר שוב"}))})});